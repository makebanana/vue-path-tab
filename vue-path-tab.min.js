/**
 * vue-path-tab v0.0.2
 * (c) 2017 MAKEBANANA
 * mail: makebanana@163.com
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VuePathTab=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return e={exports:{}},t(e,e.exports),e.exports}function n(t,e){if(!t)throw new Error("[vue-pathtab] "+e)}function i(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"==typeof t}function s(t){return"object"==typeof t&&null!==t}function a(t){return void 0===t}function o(){}function h(t){h.installed||(h.installed=!0,t.mixin({beforeCreate:function(){this.$options.pathTab?(this._pathTabRoot=this,this._pathTab=this.$options.pathTab):this._pathTabRoot=this.$parent&&this.$parent._pathTabRoot||this}}),Object.defineProperty(t.prototype,"$tab",{get:function(){return this._pathTabRoot._pathTab.path=this.$attrs.tabPath,this._pathTabRoot._pathTab.query=this.$attrs.tabQuery,this._pathTabRoot._pathTab.params=this.$attrs.tabParams,this._pathTabRoot._pathTab}}),t.component(Mt.name,Mt))}function c(t,e){for(var n,i=[],r=0,s=0,a="",o=e&&e.delimiter||Wt,h=e&&e.delimiters||qt,c=!1;null!==(n=Dt.exec(t));){var l=n[0],f=n[1],p=n.index;if(a+=t.slice(s,p),s=p+l.length,f)a+=f[1],c=!0;else{var d="",v=t[s],m=n[2],b=n[3],_=n[4],y=n[5];if(!c&&a.length){var g=a.length-1;h.indexOf(a[g])>-1&&(d=a[g],a=a.slice(0,g))}a&&(i.push(a),a="",c=!1);var T=""!==d&&void 0!==v&&v!==d,w="+"===y||"*"===y,L="?"===y||"*"===y,x=d||o,E=b||_;i.push({name:m||r++,prefix:d,delimiter:x,optional:L,repeat:w,partial:T,pattern:E?function(t){return t.replace(/([=!:$/()])/g,"\\$1")}(E):"[^"+u(x)+"]+?"})}}return(a||s<t.length)&&i.push(a+t.substr(s)),i}function l(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var r="",s=i&&i.encode||encodeURIComponent,a=0;a<t.length;a++){var o=t[a];if("string"!=typeof o){var h,c=n?n[o.name]:void 0;if(Array.isArray(c)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===c.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var l=0;l<c.length;l++){if(h=s(c[l]),!e[a].test(h))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');r+=(0===l?o.prefix:o.delimiter)+h}}else if("string"!=typeof c&&"number"!=typeof c&&"boolean"!=typeof c){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"));o.partial&&(r+=o.prefix)}else{if(h=s(String(c)),!e[a].test(h))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+h+'"');r+=o.prefix+h}}else r+=o}return r}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function f(t){return t&&t.sensitive?"":"i"}function p(t,e,n){for(var i=(n=n||{}).strict,r=!1!==n.end,s=u(n.delimiter||Wt),a=n.delimiters||qt,o=[].concat(n.endsWith||[]).map(u).concat("$").join("|"),h="",c=!1,l=0;l<t.length;l++){var p=t[l];if("string"==typeof p)h+=u(p),c=l===t.length-1&&a.indexOf(p[p.length-1])>-1;else{var d=u(p.prefix),v=p.repeat?"(?:"+p.pattern+")(?:"+d+"(?:"+p.pattern+"))*":p.pattern;e&&e.push(p),p.optional?p.partial?h+=d+"("+v+")?":h+="(?:"+d+"("+v+"))?":h+=d+"("+v+")"}}return r?(i||(h+="(?:"+s+")?"),h+="$"===o?"$":"(?="+o+")"):(i||(h+="(?:"+s+"(?="+o+"))?"),c||(h+="(?="+s+"|"+o+")")),new RegExp("^"+h,f(n))}function d(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(d(t[r],e,n).source);return new RegExp("(?:"+i.join("|")+")",f(n))}(t,e,n):function(t,e,n){return p(c(t,n),e,n)}(t,e,n)}function v(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var m=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),b=e(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),_=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},y=function(t){return"object"==typeof t?null!==t:"function"==typeof t},g=function(t){if(!y(t))throw TypeError(t+" is not an object!");return t},T=function(t){try{return!!t()}catch(t){return!0}},w=!T(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),L=m.document,x=y(L)&&y(L.createElement),E=!w&&!T(function(){return 7!=Object.defineProperty(function(t){return x?L.createElement(t):{}}("div"),"a",{get:function(){return 7}}).a}),N=Object.defineProperty,P={f:w?Object.defineProperty:function(t,e,n){if(g(t),e=function(t,e){if(!y(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!y(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!y(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),g(n),E)try{return N(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},C=w?function(t,e,n){return P.f(t,e,function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}(1,n))}:function(t,e,n){return t[e]=n,t},O="prototype",A=function(t,e,n){var i,r,s,a=t&A.F,o=t&A.G,h=t&A.S,c=t&A.P,l=t&A.B,u=t&A.W,f=o?b:b[e]||(b[e]={}),p=f[O],d=o?m:h?m[e]:(m[e]||{})[O];o&&(n=e);for(i in n)(r=!a&&d&&void 0!==d[i])&&i in f||(s=r?d[i]:n[i],f[i]=o&&"function"!=typeof d[i]?n[i]:l&&r?_(s,m):u&&d[i]==s?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[O]=t[O],e}(s):c&&"function"==typeof s?_(Function.call,s):s,c&&((f.virtual||(f.virtual={}))[i]=s,t&A.R&&p&&!p[i]&&C(p,i,s)))};A.F=1,A.G=2,A.S=4,A.P=8,A.B=16,A.W=32,A.U=64,A.R=128;var k=A,S={}.hasOwnProperty,$=function(t,e){return S.call(t,e)},R={}.toString,z=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==function(t){return R.call(t).slice(8,-1)}(t)?t.split(""):Object(t)},j=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},M=function(t){return z(j(t))},F=Math.ceil,H=Math.floor,B=function(t){return isNaN(t=+t)?0:(t>0?H:F)(t)},U=Math.min,I=Math.max,W=Math.min,q="__core-js_shared__",D=m[q]||(m[q]={}),K=0,V=Math.random(),X=function(t){return D[t]||(D[t]={})}("keys"),Y=function(t){return function(e,n,i){var r,s=M(e),a=function(t){return t>0?U(B(t),9007199254740991):0}(s.length),o=function(t,e){return(t=B(t))<0?I(t+e,0):W(t,e)}(i,a);if(t&&n!=n){for(;a>o;)if((r=s[o++])!=r)return!0}else for(;a>o;o++)if((t||o in s)&&s[o]===n)return t||o||0;return!t&&-1}}(!1),G=function(t){return X[t]||(X[t]=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++K+V).toString(36))}(t))}("IE_PROTO"),Q="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),J=Object.keys||function(t){return function(t,e){var n,i=M(t),r=0,s=[];for(n in i)n!=G&&$(i,n)&&s.push(n);for(;e.length>r;)$(i,n=e[r++])&&(~Y(s,n)||s.push(n));return s}(t,Q)},Z={f:Object.getOwnPropertySymbols},tt={f:{}.propertyIsEnumerable},et=Object.assign,nt=!et||T(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=et({},t)[n]||Object.keys(et({},e)).join("")!=i})?function(t,e){for(var n=function(t){return Object(j(t))}(t),i=arguments.length,r=1,s=Z.f,a=tt.f;i>r;)for(var o,h=z(arguments[r++]),c=s?J(h).concat(s(h)):J(h),l=c.length,u=0;l>u;)a.call(h,o=c[u++])&&(n[o]=h[o]);return n}:et;k(k.S+k.F,"Object",{assign:nt});var it=b.Object.assign,rt=t(e(function(t){t.exports={default:it,__esModule:!0}})),st=t(e(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}));k(k.S+k.F*!w,"Object",{defineProperty:P.f});var at=b.Object,ot=function(t,e,n){return at.defineProperty(t,e,n)},ht=e(function(t){t.exports={default:ot,__esModule:!0}});t(ht);var ct=t(e(function(t,e){e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(ht);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var r=e[i];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,n.default)(t,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()})),lt=i;i.EventEmitter=i,i.prototype._events=void 0,i.prototype._maxListeners=void 0,i.defaultMaxListeners=10,i.prototype.setMaxListeners=function(t){if(!function(t){return"number"==typeof t}(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},i.prototype.emit=function(t){var e,n,i,o,h,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||s(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var l=new Error('Uncaught, unspecified "error" event. ('+e+")");throw l.context=e,l}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),n.apply(this,o)}else if(s(n))for(o=Array.prototype.slice.call(arguments,1),i=(c=n.slice()).length,h=0;h<i;h++)c[h].apply(this,o);return!0},i.prototype.addListener=function(t,e){var n;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?s(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,s(this._events[t])&&!this._events[t].warned&&(n=a(this._maxListeners)?i.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},i.prototype.on=i.prototype.addListener,i.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},i.prototype.removeListener=function(t,e){var n,i,a,o;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(s(n)){for(o=a;o-- >0;)if(n[o]===e||n[o].listener&&n[o].listener===e){i=o;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},i.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},i.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},i.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},i.listenerCount=function(t,e){return t.listenerCount(e)};var ut=new lt.EventEmitter,ft=t(e(function(t,e){e.__esModule=!0;var n=function(t){return t&&t.__esModule?t:{default:t}}(ht);e.default=function(t,e,i){return e in t?(0,n.default)(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}})),pt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"path-tabs__active-bar",style:this.barStyle})},staticRenderFns:[],name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{cache:!1,get:function(){var t=this;if(!this.$parent.$refs.pathTabs)return{};var e={},n=0,i=0,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",s="width"===r?"x":"y",a=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})};this.tabs.every(function(e,s){var o=t.$parent.$refs.pathTabs[s];return!!o&&(e.active?(i=o["client"+a(r)],"width"===r&&(i-=0===s?20:40),!1):(n+=o["client"+a(r)],!0))}),"width"===r&&0!==n&&(n+=20);var o="translate"+a(s)+"("+n+"px)";return e[r]=i+"px",e.transform=o,e.msTransform=o,e.webkitTransform=o,e}}}},dt="undefined"==typeof window,vt=function(){if(!dt){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}}(),mt=function(){if(!dt){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}}(),bt=function(t){var e=t.__resizeTrigger__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},_t=function(t){var e=this;bt(this),this.__resizeRAF__&&mt(this.__resizeRAF__),this.__resizeRAF__=vt(function(){(function(t){return t.offsetWidth!==t.__resizeLast__.width||t.offsetHeight!==t.__resizeLast__.height})(e)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}))})},yt=dt?{}:document.attachEvent,gt="Webkit Moz O ms".split(" "),Tt="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),wt="resizeanim",Lt=!1,xt="",Et="animationstart";if(!yt&&!dt){var Nt=document.createElement("fakeelement");if(void 0!==Nt.style.animationName&&(Lt=!0),!1===Lt)for(var Pt="",Ct=0;Ct<gt.length;Ct++)if(void 0!==Nt.style[gt[Ct]+"AnimationName"]){Pt=gt[Ct],xt="-"+Pt.toLowerCase()+"-",Et=Tt[Ct],Lt=!0;break}}var Ot=!1,At=function(t,e){if(!dt)if(yt)t.attachEvent("onresize",e);else{if(!t.__resizeTrigger__){"static"===getComputedStyle(t).position&&(t.style.position="relative"),function(){if(!Ot&&!dt){var t="@"+xt+"keyframes "+wt+" { from { opacity: 0; } to { opacity: 0; } } \n      .resize-triggers { "+xt+"animation: 1ms "+wt+'; visibility: hidden; opacity: 0; }\n      .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1 }\n      .resize-triggers > div { background: #eee; overflow: auto; }\n      .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),Ot=!0}}(),t.__resizeLast__={},t.__resizeListeners__=[];var n=t.__resizeTrigger__=document.createElement("div");n.className="resize-triggers",n.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(n),bt(t),t.addEventListener("scroll",_t,!0),Et&&n.addEventListener(Et,function(e){e.animationName===wt&&bt(t)})}t.__resizeListeners__.push(e)}},kt=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},St={name:"PathTabs",components:{TabNav:{name:"TabNav",components:{TabBar:pt},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:o},onTabRemove:{type:Function,default:o},type:String},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.pathNavScroll["offset"+kt(this.sizeName)],e=this.navOffset;if(e){var n=e>t?e-t:0;this.navOffset=n}},scrollNext:function(){var t=this.$refs.pathNav["offset"+kt(this.sizeName)],e=this.$refs.pathNavScroll["offset"+kt(this.sizeName)],n=this.navOffset;if(!(t-n<=e)){var i=t-n>2*e?n+e:t-e;this.navOffset=i}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.pathNav,e=this.$el.querySelector(".is-active"),n=this.$refs.pathNavScroll,i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),s=t.getBoundingClientRect(),a=this.navOffset,o=a;i.left<r.left&&(o=a-(r.left-i.left)),i.right>r.right&&(o=a+i.right-r.right),s.right<r.right&&(o=t.offsetWidth-r.width),this.navOffset=Math.max(o,0)}},update:function(){if(this.$refs.pathNav){var t=this.sizeName,e=this.$refs.pathNav["offset"+kt(t)],n=this.$refs.pathNavScroll["offset"+kt(t)],i=this.navOffset;if(n<e){var r=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=r,this.scrollable.next=r+n<e,e-r<n&&(this.navOffset=e-n)}else this.scrollable=!1,i>0&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,n=void 0,i=void 0,r=void 0;-1!==[37,38,39,40].indexOf(e)&&(r=t.currentTarget.querySelectorAll("[role=tab]"),i=Array.prototype.indexOf.call(r,t.target),r[n=37===e||38===e?0===i?r.length-1:i-1:i<r.length-1?i+1:0].focus(),r[n].click())},setFocus:function(){this.isFocus=!0},removeFocus:function(){this.isFocus=!1},onContextmenu:function(t,e,n){this.$tab.menu&&(t.preventDefault(),this.$tab.menu.showContentmenu(t,e,n))}},updated:function(){this.update()},render:function(t){var e=this,n=this.type,i=this.panes,r=this.editable,s=this.onTabClick,a=this.onTabRemove,o=this.navStyle,h=this.scrollable,c=this.scrollNext,l=this.scrollPrev,u=this.changeTab,f=this.setFocus,p=this.removeFocus,d=this.onContextmenu,v=h?[t("span",{class:["path-tabs__nav-prev",h.prev?"":"is-disabled"],on:{click:l}},["<"]),t("span",{class:["path-tabs__nav-next",h.next?"":"is-disabled"],on:{click:c}},[">"])]:null,m=this._l(i,function(n,i){var o=n.name||n.index||i,h=n.isClosable||r;n.index=""+i;var c=h?t("span",{class:"path-icon-close",on:{click:function(t){a(n,t)}}},["x"]):t("i",{class:"path-tabs__lock"},[]),l=n.$slots.label||n.label,u=n.active?0:-1;return t("div",{class:{"path-tabs__item":!0,"is-active":n.active,"is-disabled":n.disabled,"is-closable":h,"is-focus":e.isFocus},attrs:{id:"tab-"+o,"aria-controls":"pane-"+o,role:"tab","aria-selected":n.active,tabindex:u},ref:"pathTabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(t){p(),s(n,o,t)},keydown:function(t){!h||46!==t.keyCode&&8!==t.keyCode||a(n,t)},contextmenu:function(t){d(t,h,o)}}},[l,c])});return t("div",{class:["path-tabs__nav-wrap",h?"is-scrollable":""]},[v,t("div",{class:["path-tabs__nav-scroll"],ref:"pathNavScroll"},[t("div",{class:"path-tabs__nav",ref:"pathNav",style:o,attrs:{role:"tablist"},on:{keydown:u}},[n?null:t("tab-bar",{attrs:{tabs:i}},[]),m])])])},mounted:function(){At(this.$el,this.update)},beforeDestroy:function(){this.$el&&this.update&&function(t,e){t&&t.__resizeListeners__&&(yt?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",_t),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__))))}(this.$el,this.update)}}},props:{type:String,activeName:String,tabPosition:{type:String,default:"top"}},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.pathNav&&this.$nextTick(function(t){e.$refs.pathNav.scrollToActiveTab()})}},methods:{handleTabClick:function(t,e,n){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,n))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){this.currentName=t,this.$emit("input",t)},addPanes:function(t){var e=this.$slots.default.filter(function(t){return 1===t.elm.nodeType&&/\bpath-tab-pane\b/.test(t.elm.className)}).indexOf(t.$vnode);this.panes.splice(e,0,t)},removePanes:function(t){var e=this.panes,n=e.indexOf(t);n>-1&&e.splice(n,1)}},render:function(t){var e,n=this.type,i=this.handleTabClick,r=this.handleTabRemove,s=this.currentName,a=this.panes,o=this.tabPosition,h=t("div",{class:"path-tabs__header"},[t("tab-nav",{props:{currentName:s,onTabClick:i,onTabRemove:r,type:n,panes:a},ref:"pathNav"},[])]),c=t("div",{class:"path-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"path-tabs":!0,"path-tabs--card":"card"===n},ft(e,"path-tabs--"+o,!0),ft(e,"path-tabs--border-card","border-card"===n),e)},["bottom"!==o?[h,c]:[c,h]])},created:function(){this.currentName||this.setCurrentName("/")}},$t={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.active,expression:"active"}],staticClass:"path-tab-pane",attrs:{role:"tabpanel","aria-hidden":!this.active,id:"pane-"+this.paneName,"aria-labelledby":"tab-"+this.paneName}},[this._t("default")],2)},staticRenderFns:[],name:"PathTabPane",componentName:"PathTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean},data:function(){return{index:null}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){return this.$parent.currentName===(this.name||this.index)},paneName:function(){return this.name||this.index}},mounted:function(){this.$parent.addPanes(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$parent.removePanes(this)},watch:{label:function(){this.$parent.$forceUpdate()}}},Rt=document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},zt=document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)},jt=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];st(this,t),this.clickOutside=function(t){t.srcElement.parentNode!==e.ulNode&&e.hideContentmenu()},this.hideContentmenu=function(){e.menu.style.display="none"},this.reload=function(){e.hideContentmenu(),e.currentPath&&ut.emit("PATHTABS_RELOAD",e.currentPath)},this.close=function(){e.hideContentmenu(),e.currentPath&&ut.emit("PATHTABS_CLOSE",e.currentPath)},this.closeOther=function(){e.hideContentmenu(),e.currentPath&&ut.emit("PATHTABS_CLOSEOTHER",e.currentPath)},this.currentPath="",this.option=n,this.init()}return ct(t,[{key:"init",value:function(){var t=navigator.language.indexOf("zh")>-1;this.menu=document.createElement("div"),this.menu.className="path-tabs__contentmenu",this.ulNode=document.createElement("ul"),this.closeNode=document.createElement("li"),this.reloadNode=document.createElement("li"),this.otherNode=document.createElement("li"),this.reloadNode.innerText=this.option[0]?this.option[0]:t?"刷新":"REFRESH",this.closeNode.innerText=this.option[1]?this.option[1]:t?"关闭":"CLOSE",this.otherNode.innerText=this.option[2]?this.option[2]:t?"关闭其他":"CLOSE OTHER",this.ulNode.appendChild(this.closeNode),this.ulNode.appendChild(this.reloadNode),this.ulNode.appendChild(this.otherNode),this.menu.appendChild(this.ulNode),document.body.appendChild(this.menu),this.menuHeight=window.getComputedStyle(this.menu,!1).getPropertyValue("width"),Rt(this.reloadNode,"click",this.reload),Rt(this.closeNode,"click",this.close),Rt(this.otherNode,"click",this.closeOther),Rt(document,"click",this.clickOutside)}},{key:"showContentmenu",value:function(t,e,n){if(n&&"string"==typeof n){this.currentPath=n;var i=window.innerWidth,r=window.innerHeight,s=75;e?this.closeNode.style.display="":(s=50,this.closeNode.style.display="none"),t.clientX+this.menuHeight<=i?this.menu.style.left=t.clientX+"px":this.menu.style.left=t.clientX-this.menuHeight+"px",t.clientY+s<=r?this.menu.style.top=t.clientY+"px":this.menu.style.top=t.clientY-s+"px",this.menu.style.display="block"}}},{key:"destroy",value:function(){zt(this.reloadNode,"click",this.reload),zt(this.closeNode,"click",this.close),zt(this.otherNode,"click",this.closeOther),zt(document,"click",this.clickOutside),document.body.removeChild(this.menu),this.menu=null,this.ulNode=null,this.reloadNode=null,this.closeNode=null,this.otherNode=null}}]),t}(),Mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("path-tabs",{class:t.className,attrs:{activeName:t.activePath,"tab-position":t.tabPosition,type:t.type},on:{"tab-remove":t.onTabClose},model:{value:t.activePath,callback:function(e){t.activePath=e},expression:"activePath"}},t._l(t.tabsList,function(e,i){return n("path-tab-pane",{key:e.path,attrs:{label:e.title,name:e.path,closable:e.closable}},[e.reloading?t._e():n(e.component,{tag:"div",attrs:{tabPath:e.path,tabParams:e.params,tabQuery:e.query}})])}))},staticRenderFns:[],name:"PathTabsView",components:{PathTabs:St,PathTabPane:$t},props:{defaultPath:String,type:{type:String,default:"border-card"},tabPosition:{type:String,default:"top"},className:String},data:function(){return{activePath:"",tabsList:[]}},watch:{activePath:function(t){this.$emit("input",t)}},methods:{onTabUpdate:function(t){var e=t.split("?")[0];if(!this.tabsList.some(function(t){return t.path===e})){var n=this.matchTab(t);this.tabsList.push(n),e=n.path}this.activePath=e},matchTab:function(t){return this.$tab.match(t)},onTabClose:function(t){var e=void 0,n=void 0;this.tabsList=this.tabsList.filter(function(i,r){return i.path!==t||!i.closable||(e=r,n=t,!1)}),n&&(this.tabsList.length?this.activePath=this.tabsList[e]?this.tabsList[e].path:this.tabsList[e-1].path:this.activePath="/")},onTabReload:function(t){var e=this,n=this.tabsList.slice(),i=0;n.some(function(e,n){if(e.path===t)return e.reloading=!0,i=n,!0})&&(this.tabsList=n,setTimeout(function(){var t=e.tabsList.slice();t[i].reloading=!1,e.tabsList=t},100))},onTabCloseOther:function(t){if(this.tabsList=this.tabsList.filter(function(e){return e.path===t||!e.closable}),t)this.activePath=t;else{var e=this.tabsList.length;e&&(this.activePath=this.tabsList[e-1].path)}},onTabLock:function(t){var e=this.tabsList.slice();e.some(function(e,n){if(e.path===t)return e.closable=!1,!0})&&(this.tabsList=e)},onTabUnlock:function(t){var e=this.tabsList.slice();e.some(function(e,n){if(e.path===t)return e.closable=!0,!0})&&(this.tabsList=e)},onTabSetTile:function(t,e){var n=this.tabsList.slice();n.some(function(n,i){if(n.path===e)return n.title=t,!0})&&(this.tabsList=n)}},created:function(){this.tabsList=this.$tab.defaultTabs,this.$tab.defaultPath&&this.onTabUpdate(this.$tab.defaultPath),this.defaultPath&&this.onTabUpdate(this.$tab.defaultPath),this.$tab.menu instanceof jt==!1&&!1!==this.$tab.menu&&(this.$tab.menu=new jt(this.$tab.menu)),ut.on("PATHTABS_ADD",this.onTabUpdate),ut.on("PATHTABS_RELOAD",this.onTabReload),ut.on("PATHTABS_CLOSE",this.onTabClose),ut.on("PATHTABS_CLOSEOTHER",this.onTabCloseOther),ut.on("PATHTABS_LOCK",this.onTabLock),ut.on("PATHTABS_UNLOCK",this.onTabUnlock),ut.on("PATHTABS_SETTITLE",this.onTabSetTile)},destroyed:function(){ut.removeAllListeners(),this.$tab.menu&&this.$tab.menu.destroy(),this.$tab.menu=void 0}},Ft=d,Ht=c,Bt=function(t,e){return l(c(t,e))},Ut=l,It=p,Wt="/",qt="./",Dt=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");Ft.parse=Ht,Ft.compile=Bt,Ft.tokensToFunction=Ut,Ft.tokensToRegExp=It;var Kt=function(t,e,n,i){e=e||"&",n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var s=/\+/g;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var o=t.length;a>0&&o>a&&(o=a);for(var h=0;h<o;++h){var c,l,u,f,p=t[h].replace(s,"%20"),d=p.indexOf(n);d>=0?(c=p.substr(0,d),l=p.substr(d+1)):(c=p,l=""),u=decodeURIComponent(c),f=decodeURIComponent(l),v(r,u)?Array.isArray(r[u])?r[u].push(f):r[u]=[r[u],f]:r[u]=f}return r},Vt=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Xt=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var r=encodeURIComponent(Vt(i))+n;return Array.isArray(t[i])?t[i].map(function(t){return r+encodeURIComponent(Vt(t))}).join(e):r+encodeURIComponent(Vt(t[i]))}).join(e):i?encodeURIComponent(Vt(i))+n+encodeURIComponent(Vt(t)):""},Yt=e(function(t,e){e.decode=e.parse=Kt,e.encode=e.stringify=Xt}),Gt=function(){function t(e){var i=this;st(this,t),this.pathList=[],this.defaultTabs=[],this.defaultPath="",this.noMatch={},this.menu=e.contextmenu,n(Array.isArray(e.path),"you should set Array for path"),e.path.forEach(function(t){t.closable=void 0===t.closable||t.closable,t.keys=[],t.re=t.path.indexOf(":")>-1?Ft(t.path,t.keys):null,i.pathList.push(t),t.isDefault&&(i.defaultTabs.push(t),i.defaultPath=t.path),t.isNoMatch&&!i.noMatch.path&&(i.noMatch=t)}),this.noMatch=this.noMatch.path?this.noMatch:{path:"/vue_pathtab_nomatch",title:"no match",closable:!0}}return ct(t,[{key:"match",value:function(t){n("string"==typeof t&&t,"you should sure path is string without empty");var e=this.noMatch,i=t.split("?")[0],r=t.split("?")[1]?Yt.parse(t.split("?")[1]):null;return this.pathList.some(function(n){return n.re&&n.re.exec(i)?(e=rt({},n,{path:i,params:{},query:r}),n.re.exec(t).forEach(function(t,i){i&&(e.params[n.keys[i-1].name]=t)}),!0):i===n.path?(e=rt({},n,{query:r}),!0):void 0}),e}},{key:"open",value:function(t){ut.emit("PATHTABS_ADD",t)}},{key:"reload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;ut.emit("PATHTABS_RELOAD",t)}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;ut.emit("PATHTABS_CLOSE",t)}},{key:"closeOther",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;ut.emit("PATHTABS_CLOSEOTHER",t)}},{key:"lock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;ut.emit("PATHTABS_LOCK",t)}},{key:"unlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;ut.emit("PATHTABS_UNLOCK",t)}},{key:"setTitle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path;e&&ut.emit("PATHTABS_SETTITLE",t,e)}}]),t}();return Gt.install=h,window.Vue&&window.Vue.use(Gt),Gt});