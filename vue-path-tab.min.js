/**
 * vue-path-tab v0.0.5
 * (c) 2017 MAKEBANANA
 * mail: makebanana@163.com
 * @license MIT
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.VuePathTab=e()}(this,function(){"use strict";function t(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function e(t,e){return t(e={exports:{}},e.exports),e.exports}var n=e(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),i=e(function(t){var e=t.exports={version:"2.5.3"};"number"==typeof __e&&(__e=e)}),r=function(t,e,n){if(function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!")}(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},s=function(t){return"object"==typeof t?null!==t:"function"==typeof t},a=function(t){if(!s(t))throw TypeError(t+" is not an object!");return t},o=function(t){try{return!!t()}catch(t){return!0}},h=!o(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),l=n.document,c=s(l)&&s(l.createElement),u=!h&&!o(function(){return 7!=Object.defineProperty((t="div",c?l.createElement(t):{}),"a",{get:function(){return 7}}).a;var t}),f=Object.defineProperty,p={f:h?Object.defineProperty:function(t,e,n){if(a(t),e=function(t,e){if(!s(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!s(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!s(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!s(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")}(e,!0),a(n),u)try{return f(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},d=h?function(t,e,n){return p.f(t,e,{enumerable:!(1&(i=1)),configurable:!(2&i),writable:!(4&i),value:n});var i}:function(t,e,n){return t[e]=n,t},v="prototype",m=function(t,e,s){var a,o,h,l=t&m.F,c=t&m.G,u=t&m.S,f=t&m.P,p=t&m.B,b=t&m.W,_=c?i:i[e]||(i[e]={}),y=_[v],g=c?n:u?n[e]:(n[e]||{})[v];c&&(s=e);for(a in s)(o=!l&&g&&void 0!==g[a])&&a in _||(h=o?g[a]:s[a],_[a]=c&&"function"!=typeof g[a]?s[a]:p&&o?r(h,n):b&&g[a]==h?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[v]=t[v],e}(h):f&&"function"==typeof h?r(Function.call,h):h,f&&((_.virtual||(_.virtual={}))[a]=h,t&m.R&&y&&!y[a]&&d(y,a,h)))};m.F=1,m.G=2,m.S=4,m.P=8,m.B=16,m.W=32,m.U=64,m.R=128;var b,_,y=m,g={}.hasOwnProperty,T=function(t,e){return g.call(t,e)},w={}.toString,L=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==(e=t,w.call(e).slice(8,-1))?t.split(""):Object(t);var e},x=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},E=function(t){return L(x(t))},N=Math.ceil,P=Math.floor,C=function(t){return isNaN(t=+t)?0:(t>0?P:N)(t)},O=Math.min,A=Math.max,k=Math.min,S="__core-js_shared__",$=n[S]||(n[S]={}),R=0,z=Math.random(),j=(b="keys",$[b]||($[b]={})),M=(_=!1,function(t,e,n){var i,r,s,a,o=E(t),h=(i=o.length,i>0?O(C(i),9007199254740991):0),l=(r=n,s=h,(r=C(r))<0?A(r+s,0):k(r,s));if(_&&e!=e){for(;h>l;)if((a=o[l++])!=a)return!0}else for(;h>l;l++)if((_||l in o)&&o[l]===e)return _||l||0;return!_&&-1}),F=function(t){return j[t]||(j[t]=(e=t,"Symbol(".concat(void 0===e?"":e,")_",(++R+z).toString(36))));var e}("IE_PROTO"),H="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),B=Object.keys||function(t){return function(t,e){var n,i=E(t),r=0,s=[];for(n in i)n!=F&&T(i,n)&&s.push(n);for(;e.length>r;)T(i,n=e[r++])&&(~M(s,n)||s.push(n));return s}(t,H)},U={f:Object.getOwnPropertySymbols},I={f:{}.propertyIsEnumerable},W=Object.assign,q=!W||o(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=W({},t)[n]||Object.keys(W({},e)).join("")!=i})?function(t,e){for(var n,i=(n=t,Object(x(n))),r=arguments.length,s=1,a=U.f,o=I.f;r>s;)for(var h,l=L(arguments[s++]),c=a?B(l).concat(a(l)):B(l),u=c.length,f=0;u>f;)o.call(l,h=c[f++])&&(i[h]=l[h]);return i}:W;y(y.S+y.F,"Object",{assign:q});var D=i.Object.assign,K=t(e(function(t){t.exports={default:D,__esModule:!0}})),V=t(e(function(t,e){e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}}));y(y.S+y.F*!h,"Object",{defineProperty:p.f});var X=i.Object,Y=function(t,e,n){return X.defineProperty(t,e,n)},G=e(function(t){t.exports={default:Y,__esModule:!0}});t(G);var Q=t(e(function(t,e){e.__esModule=!0;var n,i=(n=G,n&&n.__esModule?n:{default:n});e.default=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),(0,i.default)(t,r.key,r)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}()}));function J(t,e){if(!t)throw new Error("[vue-pathtab] "+e)}function Z(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}var tt=Z;Z.EventEmitter=Z,Z.prototype._events=void 0,Z.prototype._maxListeners=void 0,Z.defaultMaxListeners=10,Z.prototype.setMaxListeners=function(t){if("number"!=typeof t||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},Z.prototype.emit=function(t){var e,n,i,r,s,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||nt(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var o=new Error('Uncaught, unspecified "error" event. ('+e+")");throw o.context=e,o}if(it(n=this._events[t]))return!1;if(et(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),n.apply(this,r)}else if(nt(n))for(r=Array.prototype.slice.call(arguments,1),i=(a=n.slice()).length,s=0;s<i;s++)a[s].apply(this,r);return!0},Z.prototype.addListener=function(t,e){var n;if(!et(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,et(e.listener)?e.listener:e),this._events[t]?nt(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,nt(this._events[t])&&!this._events[t].warned&&(n=it(this._maxListeners)?Z.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[t].length>n&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"==typeof console.trace&&console.trace()),this},Z.prototype.on=Z.prototype.addListener,Z.prototype.once=function(t,e){if(!et(e))throw TypeError("listener must be a function");var n=!1;function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}return i.listener=e,this.on(t,i),this},Z.prototype.removeListener=function(t,e){var n,i,r,s;if(!et(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(r=(n=this._events[t]).length,i=-1,n===e||et(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(nt(n)){for(s=r;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},Z.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(et(n=this._events[t]))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},Z.prototype.listeners=function(t){return this._events&&this._events[t]?et(this._events[t])?[this._events[t]]:this._events[t].slice():[]},Z.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(et(e))return 1;if(e)return e.length}return 0},Z.listenerCount=function(t,e){return t.listenerCount(e)};function et(t){return"function"==typeof t}function nt(t){return"object"==typeof t&&null!==t}function it(t){return void 0===t}var rt=new tt.EventEmitter,st=t(e(function(t,e){e.__esModule=!0;var n,i=(n=G,n&&n.__esModule?n:{default:n});e.default=function(t,e,n){return e in t?(0,i.default)(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}})),at={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"path-tabs__active-bar",style:this.barStyle})},staticRenderFns:[],name:"TabBar",props:{tabs:Array},inject:["rootTabs"],computed:{barStyle:{cache:!1,get:function(){var t=this;if(!this.$parent.$refs.pathTabs)return{};var e={},n=0,i=0,r=-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height",s="width"===r?"x":"y",a=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})};this.tabs.every(function(e,s){var o=t.$parent.$refs.pathTabs[s];return!!o&&(e.active?(i=o["client"+a(r)],"width"===r&&(i-=0===s?20:40),!1):(n+=o["client"+a(r)],!0))}),"width"===r&&0!==n&&(n+=20);var o="translate"+a(s)+"("+n+"px)";return e[r]=i+"px",e.transform=o,e.msTransform=o,e.webkitTransform=o,e}}}},ot="undefined"==typeof window,ht=function(){if(!ot){var t=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)};return function(e){return t(e)}}}(),lt=function(){if(!ot){var t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.clearTimeout;return function(e){return t(e)}}}(),ct=function(t){var e=t.__resizeTrigger__,n=e.firstElementChild,i=e.lastElementChild,r=n.firstElementChild;i.scrollLeft=i.scrollWidth,i.scrollTop=i.scrollHeight,r.style.width=n.offsetWidth+1+"px",r.style.height=n.offsetHeight+1+"px",n.scrollLeft=n.scrollWidth,n.scrollTop=n.scrollHeight},ut=function(t){var e=this;ct(this),this.__resizeRAF__&&lt(this.__resizeRAF__),this.__resizeRAF__=ht(function(){((n=e).offsetWidth!==n.__resizeLast__.width||n.offsetHeight!==n.__resizeLast__.height)&&(e.__resizeLast__.width=e.offsetWidth,e.__resizeLast__.height=e.offsetHeight,e.__resizeListeners__.forEach(function(n){n.call(e,t)}));var n})},ft=ot?{}:document.attachEvent,pt="Webkit Moz O ms".split(" "),dt="webkitAnimationStart animationstart oAnimationStart MSAnimationStart".split(" "),vt="resizeanim",mt=!1,bt="",_t="animationstart";if(!ft&&!ot){var yt=document.createElement("fakeelement");if(void 0!==yt.style.animationName&&(mt=!0),!1===mt)for(var gt="",Tt=0;Tt<pt.length;Tt++)if(void 0!==yt.style[pt[Tt]+"AnimationName"]){gt=pt[Tt],bt="-"+gt.toLowerCase()+"-",_t=dt[Tt],mt=!0;break}}var wt=!1,Lt=function(t,e){if(!ot)if(ft)t.attachEvent("onresize",e);else{if(!t.__resizeTrigger__){"static"===getComputedStyle(t).position&&(t.style.position="relative"),function(){if(!wt&&!ot){var t="@"+bt+"keyframes "+vt+" { from { opacity: 0; } to { opacity: 0; } } \n      .resize-triggers { "+bt+"animation: 1ms "+vt+'; visibility: hidden; opacity: 0; }\n      .resize-triggers, .resize-triggers > div, .contract-trigger:before { content: " "; display: block; position: absolute; top: 0; left: 0; height: 100%; width: 100%; overflow: hidden; z-index: -1 }\n      .resize-triggers > div { background: #eee; overflow: auto; }\n      .contract-trigger:before { width: 200%; height: 200%; }',e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t)),e.appendChild(n),wt=!0}}(),t.__resizeLast__={},t.__resizeListeners__=[];var n=t.__resizeTrigger__=document.createElement("div");n.className="resize-triggers",n.innerHTML='<div class="expand-trigger"><div></div></div><div class="contract-trigger"></div>',t.appendChild(n),ct(t),t.addEventListener("scroll",ut,!0),_t&&n.addEventListener(_t,function(e){e.animationName===vt&&ct(t)})}t.__resizeListeners__.push(e)}};function xt(){}var Et=function(t){return t.toLowerCase().replace(/( |^)[a-z]/g,function(t){return t.toUpperCase()})},Nt={name:"PathTabs",components:{TabNav:{name:"TabNav",components:{TabBar:at},inject:["rootTabs"],props:{panes:Array,currentName:String,editable:Boolean,onTabClick:{type:Function,default:xt},onTabRemove:{type:Function,default:xt},type:String},data:function(){return{scrollable:!1,navOffset:0,isFocus:!1}},computed:{navStyle:function(){return{transform:"translate"+(-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"X":"Y")+"(-"+this.navOffset+"px)"}},sizeName:function(){return-1!==["top","bottom"].indexOf(this.rootTabs.tabPosition)?"width":"height"}},methods:{scrollPrev:function(){var t=this.$refs.pathNavScroll["offset"+Et(this.sizeName)],e=this.navOffset;if(e){var n=e>t?e-t:0;this.navOffset=n}},scrollNext:function(){var t=this.$refs.pathNav["offset"+Et(this.sizeName)],e=this.$refs.pathNavScroll["offset"+Et(this.sizeName)],n=this.navOffset;if(!(t-n<=e)){var i=t-n>2*e?n+e:t-e;this.navOffset=i}},scrollToActiveTab:function(){if(this.scrollable){var t=this.$refs.pathNav,e=this.$el.querySelector(".is-active"),n=this.$refs.pathNavScroll,i=e.getBoundingClientRect(),r=n.getBoundingClientRect(),s=t.getBoundingClientRect(),a=this.navOffset,o=a;i.left<r.left&&(o=a-(r.left-i.left)),i.right>r.right&&(o=a+i.right-r.right),s.right<r.right&&(o=t.offsetWidth-r.width),this.navOffset=Math.max(o,0)}},update:function(){if(this.$refs.pathNav){var t=this.sizeName,e=this.$refs.pathNav["offset"+Et(t)],n=this.$refs.pathNavScroll["offset"+Et(t)],i=this.navOffset;if(n<e){var r=this.navOffset;this.scrollable=this.scrollable||{},this.scrollable.prev=r,this.scrollable.next=r+n<e,e-r<n&&(this.navOffset=e-n)}else this.scrollable=!1,i>0&&(this.navOffset=0)}},changeTab:function(t){var e=t.keyCode,n=void 0,i=void 0,r=void 0;-1!==[37,38,39,40].indexOf(e)&&(r=t.currentTarget.querySelectorAll("[role=tab]"),i=Array.prototype.indexOf.call(r,t.target),r[n=37===e||38===e?0===i?r.length-1:i-1:i<r.length-1?i+1:0].focus(),r[n].click())},setFocus:function(){this.isFocus=!0},removeFocus:function(){this.isFocus=!1},onContextmenu:function(t,e,n){this.$tab.menu&&(t.preventDefault(),this.$tab.menu.showContentmenu(t,e,n))}},updated:function(){this.update()},render:function(t){var e=this,n=this.type,i=this.panes,r=this.editable,s=this.onTabClick,a=this.onTabRemove,o=this.navStyle,h=this.scrollable,l=this.scrollNext,c=this.scrollPrev,u=this.changeTab,f=this.setFocus,p=this.removeFocus,d=this.onContextmenu,v=h?[t("span",{class:["path-tabs__nav-prev",h.prev?"":"is-disabled"],on:{click:c}},["<"]),t("span",{class:["path-tabs__nav-next",h.next?"":"is-disabled"],on:{click:l}},[">"])]:null,m=this._l(i,function(n,i){var o=n.name||n.index||i,h=n.isClosable||r;n.index=""+i;var l=h?t("span",{class:"path-icon-close",on:{click:function(t){a(n,t)}}},["x"]):t("i",{class:"path-tabs__lock"},[]),c=n.$slots.label||n.label,u=n.active?0:-1;return t("div",{class:{"path-tabs__item":!0,"is-active":n.active,"is-disabled":n.disabled,"is-closable":h,"is-focus":e.isFocus},attrs:{id:"tab-"+o,"aria-controls":"pane-"+o,role:"tab","aria-selected":n.active,tabindex:u},ref:"pathTabs",refInFor:!0,on:{focus:function(){f()},blur:function(){p()},click:function(t){p(),s(n,o,t)},keydown:function(t){!h||46!==t.keyCode&&8!==t.keyCode||a(n,t)},contextmenu:function(t){d(t,h,o)}}},[c,l])});return t("div",{class:["path-tabs__nav-wrap",h?"is-scrollable":""]},[v,t("div",{class:["path-tabs__nav-scroll"],ref:"pathNavScroll"},[t("div",{class:"path-tabs__nav",ref:"pathNav",style:o,attrs:{role:"tablist"},on:{keydown:u}},[n?null:t("tab-bar",{attrs:{tabs:i}},[]),m])])])},mounted:function(){Lt(this.$el,this.update)},beforeDestroy:function(){this.$el&&this.update&&(t=this.$el,e=this.update,t&&t.__resizeListeners__&&(ft?t.detachEvent("onresize",e):(t.__resizeListeners__.splice(t.__resizeListeners__.indexOf(e),1),t.__resizeListeners__.length||(t.removeEventListener("scroll",ut),t.__resizeTrigger__=!t.removeChild(t.__resizeTrigger__)))));var t,e}}},props:{type:String,activeName:String,tabPosition:{type:String,default:"top"}},provide:function(){return{rootTabs:this}},data:function(){return{currentName:this.activeName,panes:[]}},watch:{activeName:function(t){this.setCurrentName(t)},currentName:function(t){var e=this;this.$refs.pathNav&&this.$nextTick(function(t){e.$refs.pathNav.scrollToActiveTab()})}},methods:{handleTabClick:function(t,e,n){t.disabled||(this.setCurrentName(e),this.$emit("tab-click",t,n))},handleTabRemove:function(t,e){t.disabled||(e.stopPropagation(),this.$emit("edit",t.name,"remove"),this.$emit("tab-remove",t.name))},handleTabAdd:function(){this.$emit("edit",null,"add"),this.$emit("tab-add")},setCurrentName:function(t){this.currentName=t,this.$emit("input",t)},addPanes:function(t){var e=this.$slots.default.filter(function(t){return 1===t.elm.nodeType&&/\bpath-tab-pane\b/.test(t.elm.className)}).indexOf(t.$vnode);this.panes.splice(e,0,t)},removePanes:function(t){var e=this.panes,n=e.indexOf(t);n>-1&&e.splice(n,1)}},render:function(t){var e,n=this.type,i=this.handleTabClick,r=this.handleTabRemove,s=this.currentName,a=this.panes,o=this.tabPosition,h=t("div",{class:"path-tabs__header"},[t("tab-nav",{props:{currentName:s,onTabClick:i,onTabRemove:r,type:n,panes:a},ref:"pathNav"},[])]),l=t("div",{class:"path-tabs__content"},[this.$slots.default]);return t("div",{class:(e={"path-tabs":!0,"path-tabs--card":"card"===n},st(e,"path-tabs--"+o,!0),st(e,"path-tabs--border-card","border-card"===n),e)},["bottom"!==o?[h,l]:[l,h]])},created:function(){this.currentName||this.setCurrentName("/")}},Pt={render:function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"show",rawName:"v-show",value:this.active,expression:"active"}],staticClass:"path-tab-pane",attrs:{role:"tabpanel","aria-hidden":!this.active,id:"pane-"+this.paneName,"aria-labelledby":"tab-"+this.paneName}},[this._t("default")],2)},staticRenderFns:[],name:"PathTabPane",componentName:"PathTabPane",props:{label:String,labelContent:Function,name:String,closable:Boolean,disabled:Boolean},data:function(){return{index:null}},computed:{isClosable:function(){return this.closable||this.$parent.closable},active:function(){return this.$parent.currentName===(this.name||this.index)},paneName:function(){return this.name||this.index}},mounted:function(){this.$parent.addPanes(this)},destroyed:function(){this.$el&&this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el),this.$parent.removePanes(this)},watch:{label:function(){this.$parent.$forceUpdate()}}},Ct=document.addEventListener?function(t,e,n){t&&e&&n&&t.addEventListener(e,n,!1)}:function(t,e,n){t&&e&&n&&t.attachEvent("on"+e,n)},Ot=document.removeEventListener?function(t,e,n){t&&e&&t.removeEventListener(e,n,!1)}:function(t,e,n){t&&e&&t.detachEvent("on"+e,n)},At=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];V(this,t),this.clickOutside=function(t){t.srcElement.parentNode!==e.ulNode&&e.hideContentmenu()},this.hideContentmenu=function(){e.menu.style.display="none"},this.reload=function(){e.hideContentmenu(),e.currentPath&&rt.emit("PATHTABS_RELOAD",e.currentPath)},this.close=function(){e.hideContentmenu(),e.currentPath&&rt.emit("PATHTABS_CLOSE",e.currentPath)},this.closeOther=function(){e.hideContentmenu(),e.currentPath&&rt.emit("PATHTABS_CLOSEOTHER",e.currentPath)},this.currentPath="",this.option=n,this.init()}return Q(t,[{key:"init",value:function(){var t=navigator.language.indexOf("zh")>-1;this.menu=document.createElement("div"),this.menu.className="path-tabs__contentmenu",this.ulNode=document.createElement("ul"),this.closeNode=document.createElement("li"),this.reloadNode=document.createElement("li"),this.otherNode=document.createElement("li"),this.reloadNode.innerText=this.option[0]?this.option[0]:t?"刷新":"REFRESH",this.closeNode.innerText=this.option[1]?this.option[1]:t?"关闭":"CLOSE",this.otherNode.innerText=this.option[2]?this.option[2]:t?"关闭其他":"CLOSE OTHER",this.ulNode.appendChild(this.closeNode),this.ulNode.appendChild(this.reloadNode),this.ulNode.appendChild(this.otherNode),this.menu.appendChild(this.ulNode),document.body.appendChild(this.menu),this.menuWidth=parseInt(window.getComputedStyle(this.menu,!1).getPropertyValue("width")),Ct(this.reloadNode,"click",this.reload),Ct(this.closeNode,"click",this.close),Ct(this.otherNode,"click",this.closeOther),Ct(document,"click",this.clickOutside)}},{key:"showContentmenu",value:function(t,e,n){if(n&&"string"==typeof n){this.currentPath=n;var i=window.innerWidth,r=window.innerHeight,s=75;e?this.closeNode.style.display="":(s=50,this.closeNode.style.display="none"),t.clientX+this.menuWidth<=i?this.menu.style.left=t.clientX+"px":this.menu.style.left=t.clientX-this.menuWidth+"px",t.clientY+s<=r?this.menu.style.top=t.clientY+"px":this.menu.style.top=t.clientY-s+"px",this.menu.style.display="block"}}},{key:"destroy",value:function(){Ot(this.reloadNode,"click",this.reload),Ot(this.closeNode,"click",this.close),Ot(this.otherNode,"click",this.closeOther),Ot(document,"click",this.clickOutside),document.body.removeChild(this.menu),this.menu=null,this.ulNode=null,this.reloadNode=null,this.closeNode=null,this.otherNode=null}}]),t}(),kt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("path-tabs",{class:t.className,attrs:{activeName:t.activePath,"tab-position":t.tabPosition,type:t.type},on:{"tab-remove":t.onTabClose},model:{value:t.activePath,callback:function(e){t.activePath=e},expression:"activePath"}},t._l(t.tabsList,function(e,i){return n("path-tab-pane",{key:e.path,attrs:{label:e.title,name:e.path,closable:e.closable}},[e.reloading?t._e():n(e.component,{tag:"div",attrs:{tabPath:e.path,tabParams:e.params,tabQuery:e.query}})])}))},staticRenderFns:[],name:"PathTabsView",components:{PathTabs:Nt,PathTabPane:Pt},props:{defaultPath:String,type:{type:String,default:"border-card"},tabPosition:{type:String,default:"top"},className:String},data:function(){return{activePath:"",tabsList:[]}},watch:{activePath:function(t){this.$emit("input",t)}},methods:{onTabUpdate:function(t){var e=t.split("?")[0];if(!this.tabsList.some(function(t){return t.path===e})){var n=this.matchTab(t);this.tabsList.push(n),e=n.path}this.activePath=e},matchTab:function(t){return this.$tab.match(t)},onTabClose:function(t){var e=void 0,n=void 0;this.tabsList=this.tabsList.filter(function(i,r){return i.path!==t||!i.closable||(e=r,n=t,!1)}),n&&(this.tabsList.length?this.activePath=this.tabsList[e]?this.tabsList[e].path:this.tabsList[e-1].path:this.activePath="/")},onTabReload:function(t){var e=this,n=this.tabsList.slice(),i=0;n.some(function(e,n){if(e.path===t)return e.reloading=!0,i=n,!0})&&(this.tabsList=n,setTimeout(function(){var t=e.tabsList.slice();t[i].reloading=!1,e.tabsList=t},100))},onTabCloseOther:function(t){if(this.tabsList=this.tabsList.filter(function(e){return e.path===t||!e.closable}),t)this.activePath=t;else{var e=this.tabsList.length;e&&(this.activePath=this.tabsList[e-1].path)}},onTabLock:function(t){var e=this.tabsList.slice();e.some(function(e,n){if(e.path===t)return e.closable=!1,!0})&&(this.tabsList=e)},onTabUnlock:function(t){var e=this.tabsList.slice();e.some(function(e,n){if(e.path===t)return e.closable=!0,!0})&&(this.tabsList=e)},onTabSetTile:function(t,e){var n=this.tabsList.slice();n.some(function(n,i){if(n.path===e)return n.title=t,!0})&&(this.tabsList=n)}},created:function(){this.tabsList=this.$tab.defaultTabs,this.$tab.defaultPath&&this.onTabUpdate(this.$tab.defaultPath),this.defaultPath&&this.onTabUpdate(this.$tab.defaultPath),this.$tab.menu instanceof At==!1&&!1!==this.$tab.menu&&(this.$tab.menu=new At(this.$tab.menu)),rt.on("PATHTABS_ADD",this.onTabUpdate),rt.on("PATHTABS_RELOAD",this.onTabReload),rt.on("PATHTABS_CLOSE",this.onTabClose),rt.on("PATHTABS_CLOSEOTHER",this.onTabCloseOther),rt.on("PATHTABS_LOCK",this.onTabLock),rt.on("PATHTABS_UNLOCK",this.onTabUnlock),rt.on("PATHTABS_SETTITLE",this.onTabSetTile)},destroyed:function(){rt.removeAllListeners(),this.$tab.menu&&this.$tab.menu.destroy(),this.$tab.menu=void 0}};function St(t){St.installed||(St.installed=!0,t.mixin({beforeCreate:function(){this.$options.pathTab?(this._pathTabRoot=this,this._pathTab=this.$options.pathTab):this._pathTabRoot=this.$parent&&this.$parent._pathTabRoot||this}}),Object.defineProperty(t.prototype,"$tab",{get:function(){return this._pathTabRoot._pathTab.path=this.$attrs.tabPath,this._pathTabRoot._pathTab.query=this.$attrs.tabQuery,this._pathTabRoot._pathTab.params=this.$attrs.tabParams,this._pathTabRoot._pathTab}}),t.component(kt.name,kt))}var $t=Kt,Rt=Ut,zt=function(t,e){return It(Ut(t,e))},jt=It,Mt=Dt,Ft="/",Ht="./",Bt=new RegExp(["(\\\\.)","(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?"].join("|"),"g");function Ut(t,e){for(var n,i=[],r=0,s=0,a="",o=e&&e.delimiter||Ft,h=e&&e.delimiters||Ht,l=!1;null!==(n=Bt.exec(t));){var c=n[0],u=n[1],f=n.index;if(a+=t.slice(s,f),s=f+c.length,u)a+=u[1],l=!0;else{var p="",d=t[s],v=n[2],m=n[3],b=n[4],_=n[5];if(!l&&a.length){var y=a.length-1;h.indexOf(a[y])>-1&&(p=a[y],a=a.slice(0,y))}a&&(i.push(a),a="",l=!1);var g=""!==p&&void 0!==d&&d!==p,T="+"===_||"*"===_,w="?"===_||"*"===_,L=p||o,x=m||b;i.push({name:v||r++,prefix:p,delimiter:L,optional:w,repeat:T,partial:g,pattern:x?(E=x,E.replace(/([=!:$/()])/g,"\\$1")):"[^"+Wt(L)+"]+?"})}}var E;return(a||s<t.length)&&i.push(a+t.substr(s)),i}function It(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"==typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,i){for(var r="",s=i&&i.encode||encodeURIComponent,a=0;a<t.length;a++){var o=t[a];if("string"!=typeof o){var h,l=n?n[o.name]:void 0;if(Array.isArray(l)){if(!o.repeat)throw new TypeError('Expected "'+o.name+'" to not repeat, but got array');if(0===l.length){if(o.optional)continue;throw new TypeError('Expected "'+o.name+'" to not be empty')}for(var c=0;c<l.length;c++){if(h=s(l[c]),!e[a].test(h))throw new TypeError('Expected all "'+o.name+'" to match "'+o.pattern+'"');r+=(0===c?o.prefix:o.delimiter)+h}}else if("string"!=typeof l&&"number"!=typeof l&&"boolean"!=typeof l){if(!o.optional)throw new TypeError('Expected "'+o.name+'" to be '+(o.repeat?"an array":"a string"));o.partial&&(r+=o.prefix)}else{if(h=s(String(l)),!e[a].test(h))throw new TypeError('Expected "'+o.name+'" to match "'+o.pattern+'", but got "'+h+'"');r+=o.prefix+h}}else r+=o}return r}}function Wt(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function qt(t){return t&&t.sensitive?"":"i"}function Dt(t,e,n){for(var i=(n=n||{}).strict,r=!1!==n.end,s=Wt(n.delimiter||Ft),a=n.delimiters||Ht,o=[].concat(n.endsWith||[]).map(Wt).concat("$").join("|"),h="",l=!1,c=0;c<t.length;c++){var u=t[c];if("string"==typeof u)h+=Wt(u),l=c===t.length-1&&a.indexOf(u[u.length-1])>-1;else{var f=Wt(u.prefix),p=u.repeat?"(?:"+u.pattern+")(?:"+f+"(?:"+u.pattern+"))*":u.pattern;e&&e.push(u),u.optional?u.partial?h+=f+"("+p+")?":h+="(?:"+f+"("+p+"))?":h+=f+"("+p+")"}}return r?(i||(h+="(?:"+s+")?"),h+="$"===o?"$":"(?="+o+")"):(i||(h+="(?:"+s+"(?="+o+"))?"),l||(h+="(?="+s+"|"+o+")")),new RegExp("^"+h,qt(n))}function Kt(t,e,n){return t instanceof RegExp?function(t,e){if(!e)return t;var n=t.source.match(/\((?!\?)/g);if(n)for(var i=0;i<n.length;i++)e.push({name:i,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,pattern:null});return t}(t,e):Array.isArray(t)?function(t,e,n){for(var i=[],r=0;r<t.length;r++)i.push(Kt(t[r],e,n).source);return new RegExp("(?:"+i.join("|")+")",qt(n))}(t,e,n):(i=e,Dt(Ut(t,r=n),i,r));var i,r}$t.parse=Rt,$t.compile=zt,$t.tokensToFunction=jt,$t.tokensToRegExp=Mt;var Vt=function(t,e,n,i){e=e||"&",n=n||"=";var r={};if("string"!=typeof t||0===t.length)return r;var s=/\+/g;t=t.split(e);var a=1e3;i&&"number"==typeof i.maxKeys&&(a=i.maxKeys);var o=t.length;a>0&&o>a&&(o=a);for(var h=0;h<o;++h){var l,c,u,f,p=t[h].replace(s,"%20"),d=p.indexOf(n);d>=0?(l=p.substr(0,d),c=p.substr(d+1)):(l=p,c=""),u=decodeURIComponent(l),f=decodeURIComponent(c),v=r,m=u,Object.prototype.hasOwnProperty.call(v,m)?Array.isArray(r[u])?r[u].push(f):r[u]=[r[u],f]:r[u]=f}var v,m;return r},Xt=function(t){switch(typeof t){case"string":return t;case"boolean":return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}},Yt=function(t,e,n,i){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(i){var r=encodeURIComponent(Xt(i))+n;return Array.isArray(t[i])?t[i].map(function(t){return r+encodeURIComponent(Xt(t))}).join(e):r+encodeURIComponent(Xt(t[i]))}).join(e):i?encodeURIComponent(Xt(i))+n+encodeURIComponent(Xt(t)):""},Gt=e(function(t,e){e.decode=e.parse=Vt,e.encode=e.stringify=Yt}),Qt=function(){function t(e){var n=this;V(this,t),this.pathList=[],this.defaultTabs=[],this.defaultPath="",this.noMatch={},this.menu=e.contextmenu,J(Array.isArray(e.path),"you should set Array for path"),e.path.forEach(function(t){t.closable=void 0===t.closable||t.closable,t.keys=[],t.re=t.path.indexOf(":")>-1?$t(t.path,t.keys):null,n.pathList.push(t),t.isDefault&&(n.defaultTabs.push(t),n.defaultPath=t.path),t.isNoMatch&&!n.noMatch.path&&(n.noMatch=t)}),this.noMatch=this.noMatch.path?this.noMatch:{path:"/vue_pathtab_nomatch",title:"no match",closable:!0}}return Q(t,[{key:"match",value:function(t){J("string"==typeof t&&t,"you should sure path is string without empty");var e=this.noMatch,n=t.split("?")[0],i=t.split("?")[1]?Gt.parse(t.split("?")[1]):null;return this.pathList.some(function(t){return t.re&&t.re.exec(n)?(e=K({},t,{path:n,params:{},query:i}),t.re.exec(n).forEach(function(n,i){i&&(e.params[t.keys[i-1].name]=n)}),!0):n===t.path?(e=K({},t,{query:i}),!0):void 0}),e}},{key:"open",value:function(t){rt.emit("PATHTABS_ADD",t)}},{key:"reload",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;rt.emit("PATHTABS_RELOAD",t)}},{key:"close",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;rt.emit("PATHTABS_CLOSE",t)}},{key:"closeOther",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;rt.emit("PATHTABS_CLOSEOTHER",t)}},{key:"lock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;rt.emit("PATHTABS_LOCK",t)}},{key:"unlock",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.path;rt.emit("PATHTABS_UNLOCK",t)}},{key:"setTitle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.path;e&&rt.emit("PATHTABS_SETTITLE",t,e)}}]),t}();return Qt.install=St,window.Vue&&window.Vue.use(Qt),Qt});